<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">


    <link rel="dns-prefetch" href="https://cdn1.lncld.net"/>



    <link rel="dns-prefetch" href="https://changyan.sohu.com"/>











    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            一次项目的 RESRful API 设计记录 | 
        
        Arony&#39;s 技术博客
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/logo.png">
    <link rel="icon" href="/img/logo.png">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="遗世独立的理想乡">
    <meta name="keywords" content="skyArony，三翼,RESTful,API">
    <meta name="theme-color" content="#607d8b">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/tomorrow-night-eighties.min.css?2LJQzURO+Kr8r/fl/T8oMA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #2780e3;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #607d8b !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #607d8b !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #607d8b !important;
  }

  .toTop {
    background: #607d8b !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #607d8b;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #607d8b;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #607d8b;
  }

  .post-toc a:hover {
    color: #2780e3;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg2018.png);
      }
    </style>




<!-- Fade Effect -->


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Arony&#39;s 技术博客">
    <meta name="msapplication-starturl" content="http://blog.yfree.cc/2017/10/27/一次项目的RESRful-API设计记录/">
    <meta name="msapplication-navbutton-color" content="#607d8b">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Arony&#39;s 技术博客">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/logo.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://blog.yfree.cc/2017/10/27/一次项目的RESRful-API设计记录/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="一次项目的 RESRful API 设计记录 | Arony&#39;s 技术博客">
    <meta property="og:image" content="/img/logo.png">
    <meta property="og:description" content="遗世独立的理想乡">
    <meta property="og:article:tag" content="RESTful"> <meta property="og:article:tag" content="API"> 

    
        <meta property="article:published_time" content="Fri Oct 27 2017 10:49:50 GMT+0800">
        <meta property="article:modified_time" content="Tue Apr 03 2018 00:22:43 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://blog.yfree.cc/2017/10/27/一次项目的RESRful-API设计记录/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://blog.yfree.cc/2017/10/27/一次项目的RESRful-API设计记录/index.html",
    "headline": "一次项目的 RESRful API 设计记录",
    "datePublished": "Fri Oct 27 2017 10:49:50 GMT+0800",
    "dateModified": "Tue Apr 03 2018 00:22:43 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Arony",
        "image": {
            "@type": "ImageObject",
            "url": "https://ooo.0o0.ooo/2017/06/19/5947a26ed9af5.jpg"
        },
        "description": "遗世独立的理想乡"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Arony&#39;s 技术博客",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/logo.png"
        }
    },
    "keywords": ",RESTful,APIskyArony，三翼",
    "description": "遗世独立的理想乡",
}
</script>


    

    <!-- Analytics -->
    
    
    
        <div style="display: none;">
    <script src="//s95.cnzz.com/z_stat.php?id=1273154911&web_id=1273154911" language="JavaScript"></script>
</div>
    

    <!-- Custom Head -->
    
        
            <style>code{font-family: consolas, Menlo, 'PingFang SC', 'Microsoft YaHei', monospace;color:#c33;margin: 0 2px;padding: 0 5px;background-color: rgba(0,0,0,.04);border-radius: 3px;}</style>
        
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#一、RESTful是什么"><span class="post-toc-text">一、RESTful是什么</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#二、参考资料"><span class="post-toc-text">二、参考资料</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#三、RESTful设计"><span class="post-toc-text">三、RESTful设计</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-协议"><span class="post-toc-text">1. 协议</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-单独的域名"><span class="post-toc-text">2. 单独的域名</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-HTTP动词"><span class="post-toc-text">3. HTTP动词</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-版本化"><span class="post-toc-text">4. 版本化</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-路径"><span class="post-toc-text">5. 路径</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#6-分析-amp-限制"><span class="post-toc-text">6. 分析&amp;限制</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#分析"><span class="post-toc-text">分析</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#限制"><span class="post-toc-text">限制</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7-过滤-amp-分页"><span class="post-toc-text">7. 过滤&amp;分页</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#8-状态码-amp-数据缓存"><span class="post-toc-text">8. 状态码 &amp; 数据缓存</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#状态码"><span class="post-toc-text">状态码</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#关于202"><span class="post-toc-text">关于202</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#关于-304"><span class="post-toc-text">关于 304</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#数据缓存"><span class="post-toc-text">数据缓存</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Cache-Control"><span class="post-toc-text">Cache-Control</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#选择合适的Cache-Control"><span class="post-toc-text">选择合适的Cache-Control</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#废弃和更新缓存响应"><span class="post-toc-text">废弃和更新缓存响应</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#9-预期返回"><span class="post-toc-text">9. 预期返回</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#10-Hypermedia-amp-超文本驱动（可以看兴趣实现）"><span class="post-toc-text">10. Hypermedia &amp; 超文本驱动（可以看兴趣实现）</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Hypermedia"><span class="post-toc-text">Hypermedia</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#超文本驱动"><span class="post-toc-text">超文本驱动</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#11-数据请求格式"><span class="post-toc-text">11. 数据请求格式</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#12-清晰的文档"><span class="post-toc-text">12. 清晰的文档</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#13-鉴权-amp-无状态"><span class="post-toc-text">13. 鉴权 &amp; 无状态</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#14-Enveloping"><span class="post-toc-text">14. Enveloping</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#15-数据校验"><span class="post-toc-text">15. 数据校验</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#16-CORS——解决跨域"><span class="post-toc-text">16. CORS——解决跨域</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#17-命名规范"><span class="post-toc-text">17. 命名规范</span></a></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Pure Thumbnail -->
            <div class="post_thumbnail-pure mdl-card__media mdl-color-text--grey-50" style="background-color:#222 !important">
        
    
            <p class="article-headline-p">
                一次项目的 RESRful API 设计记录
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="https://ooo.0o0.ooo/2017/06/19/5947a26ed9af5.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Arony</strong>
        <span>10月 27, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/API/">API</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/RESTful/">RESTful</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    
    <!-- Leancloud Views -->
        <a class="post_share-link" href="#">
            <li class="mdl-menu__item">
                <span id="/2017/10/27/一次项目的RESRful-API设计记录/" class="leancloud-views_num" data-flag-title="一次项目的 RESRful API 设计记录">
     &nbsp;浏览量
</span>

            </li>
        </a>
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=一次项目的 RESRful API 设计记录&url=http://blog.yfree.cc/2017/10/27/一次项目的RESRful-API设计记录/index.html&pic=http://blog.yfree.cc/img/logo.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.yfree.cc/2017/10/27/一次项目的RESRful-API设计记录/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Arony&#39;s 技术博客&title=一次项目的 RESRful API 设计记录&summary=遗世独立的理想乡&pics=http://blog.yfree.cc/img/logo.png&url=http://blog.yfree.cc/2017/10/27/一次项目的RESRful-API设计记录/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h1 id="一、RESTful是什么"><a href="#一、RESTful是什么" class="headerlink" title="一、RESTful是什么"></a>一、RESTful是什么</h1><p>RESTful API是一种 Web 设计架构，翻译成中文就是「表现层状态转移」。</p>
<ul>
<li>资源：网络上的每一个实体或数据信息，都是一个资源。</li>
<li>表现层：资源以某种序列化的格式展现出来的形式。</li>
<li>URI：只代表资源的实体，而不代表资源的形式。相当于起标识符和地址，每一个资源都有其URI与之对应，最典型的URI就是URL</li>
<li>状态转化：就是通过某种手段让 URI 所代表的实体在表现层发生状态的转化，表现在HTTP协议里面，就是GET/POST/PUT/DELETE 四种动作对应的四种操作</li>
</ul>
<p>基于以上特点，阮一峰老师给出了一个比较易懂的解释：</p>
<blockquote>
<p>（1）每一个URI代表一种资源；</p>
<p>（2）客户端和服务器之间，传递这种资源的某种表现层；</p>
<p>（3）客户端通过四个HTTP动词，对服务器端资源进行操作，实现”表现层状态转化”。</p>
</blockquote>
<p>如果还看不到，我这还有一个更加通俗化的解释：</p>
<blockquote>
<p>看Url就知道要什么<br>看http method就知道干什么<br>看http status code就知道结果如何  </p>
<p>——知乎 徐磊</p>
</blockquote>
<p>接下来，列举网上找到的参考资料，然后通过这些资料整理一个适合工作室的RESTful设计规范，并以此规范完成工作室<code>API2.0</code>。</p>
<h1 id="二、参考资料"><a href="#二、参考资料" class="headerlink" title="二、参考资料"></a>二、参考资料</h1><ul>
<li>GitHub上一个项目：<a href="https://github.com/aisuhua/restful-api-design-references" target="_blank" rel="noopener">RESTful API 设计参考文献列表</a></li>
<li><a href="https://blog.igevin.info/posts/restful-api-get-started-to-write/" target="_blank" rel="noopener">RESTful API 编写指南</a></li>
<li><a href="https://www.zhihu.com/question/58686782" target="_blank" rel="noopener">知乎-关于 RESTful API 中 HTTP 状态码的定义的疑问？-Liril</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2016/04/cors.html" target="_blank" rel="noopener">阮一峰老师的跨域资源共享 CORS 详解</a></li>
<li><a href="https://blog.igevin.info/posts/restful-architecture-in-general/" target="_blank" rel="noopener">RESTful 架构风格概述 - Gevin</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2011/09/restful.html" target="_blank" rel="noopener">阮一峰老师的理解RESTful架构</a></li>
</ul>
<h1 id="三、RESTful设计"><a href="#三、RESTful设计" class="headerlink" title="三、RESTful设计"></a>三、RESTful设计</h1><h2 id="1-协议"><a href="#1-协议" class="headerlink" title="1. 协议"></a>1. 协议</h2><p>必须https。</p>
<h2 id="2-单独的域名"><a href="#2-单独的域名" class="headerlink" title="2. 单独的域名"></a>2. 单独的域名</h2><pre><code>https://api.example.com
</code></pre><h2 id="3-HTTP动词"><a href="#3-HTTP动词" class="headerlink" title="3. HTTP动词"></a>3. HTTP动词</h2><p>对于资源的具体操作类型，由HTTP动词表示。<br>常用的HTTP动词有下面五个（括号里是对应的SQL命令）。</p>
<pre><code>GET（SELECT）：从服务器取出资源（一项或多项）。
POST（CREATE）：在服务器新建一个资源。
PUT（UPDATE）：在服务器更新资源（客户端提供改变后的完整资源）。
PATCH（UPDATE）：在服务器更新资源（客户端提供改变的属性）。
DELETE（DELETE）：从服务器删除资源。
</code></pre><p>下面是一些例子</p>
<pre><code>GET /zoos：列出所有动物园
POST /zoos：新建一个动物园
GET /zoos/ID：获取某个指定动物园的信息
PUT /zoos/ID：更新某个指定动物园的信息（提供该动物园的全部信息）
PATCH /zoos/ID：更新某个指定动物园的信息（提供该动物园的部分信息）
DELETE /zoos/ID：删除某个动物园
GET /zoos/ID/animals：列出某个指定动物园的所有动物
DELETE /zoos/ID/animals/ID：删除某个指定动物园的指定动物
</code></pre><p>值得注意的是PUT和PATCH的区别：</p>
<ul>
<li>更新一个资源的全部信息时采用<code>PUT</code></li>
<li>更新一个资源的部分信息时采用<code>PATCH</code></li>
</ul>
<h2 id="4-版本化"><a href="#4-版本化" class="headerlink" title="4. 版本化"></a>4. 版本化</h2><p>将API的版本号放进URL中：</p>
<pre><code># 这样比较方便直观
https://api.example.com/v1/

# 放到 header 中，这样更符合 RESTful 设计理念
X-GitHub-Media-Type: github.v3
</code></pre><p>到底该怎么办，见仁见智吧，因为 RESTful 只是一种设计理念，太过于教条化的追求反而犯了更大的错误。</p>
<h2 id="5-路径"><a href="#5-路径" class="headerlink" title="5. 路径"></a>5. 路径</h2><p>路径又称”终点”（endpoint），表示API的具体网址。<br>在RESTful架构中，每个网址代表一种资源（resource），所以网址中不能有动词，只能有<strong>名词</strong>，而且所用的名词往往与数据库的表格名对应。一般来说，数据库中的表都是同种记录的”集合”（collection），所以API中的名词也应该使用<strong>复数</strong>。<br>举例来说，有一个API提供动物园（zoo）的信息，还包括各种动物和雇员的信息，则它的路径应该设计成下面这样：</p>
<pre><code>https://api.example.com/v1/zoos
https://api.example.com/v1/animals
https://api.example.com/v1/employees
</code></pre><h2 id="6-分析-amp-限制"><a href="#6-分析-amp-限制" class="headerlink" title="6. 分析&amp;限制"></a>6. 分析&amp;限制</h2><p>对整个API系统必须有一套完整的跟踪和分析系统，要求实现以下功能：</p>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><ol>
<li>记录接口调用次数（要求可以自定义时间段进行统计，自定义用户进行查询）</li>
<li>记录接口的输入和调用结果</li>
<li>记录接口的平均耗时和最高耗时（要求可以自定义时间段进行统计，自定义用户进行查询） // 这个暂时不用实现</li>
</ol>
<h3 id="限制"><a href="#限制" class="headerlink" title="限制"></a>限制</h3><p>针对用户权限进行调用次数的限制<br>为了避免请求泛滥，给API设置速度限制很重要。为此 RFC 6585 引入了HTTP状态码429（too many requests）。加入速度设置之后，应该提示用户,流行的方法是使用HTTP的返回头。</p>
<p>下面是几个必须的返回头（依照twitter的命名规则）：</p>
<ul>
<li>X-Rate-Limit-Limit :当前时间段允许的并发请求数</li>
<li>X-Rate-Limit-Remaining :当前时间段保留的请求数</li>
<li>X-Rate-Limit-Used : 当前时间段已用的请求数</li>
<li>X-Rate-Limit-Reset :当前时间段剩余秒数</li>
</ul>
<h2 id="7-过滤-amp-分页"><a href="#7-过滤-amp-分页" class="headerlink" title="7. 过滤&amp;分页"></a>7. 过滤&amp;分页</h2><p>如果记录数量很多，服务器不可能都将它们返回给用户。API应该提供参数，过滤返回结果。<br>下面是一些常见的参数。</p>
<pre><code>?limit=10：指定返回记录的数量
?offset=10：指定返回记录的开始位置。
?page=2&amp;per_page=100：指定第几页，以及每页的记录数。
?sortby=name&amp;order=asc：指定返回结果按照哪个属性排序，以及排序顺序。
?animal_type_id=1：指定筛选条件
</code></pre><p>参数的设计允许存在冗余，即允许API路径和URL参数偶尔有重复。比如，<code>GET /zoo/ID/animals</code> 与 <code>GET /animals?zoo_id=ID</code> 的含义是相同的。</p>
<h2 id="8-状态码-amp-数据缓存"><a href="#8-状态码-amp-数据缓存" class="headerlink" title="8. 状态码 &amp; 数据缓存"></a>8. 状态码 &amp; 数据缓存</h2><h3 id="状态码"><a href="#状态码" class="headerlink" title="状态码"></a>状态码</h3><p><a href="http://clojure-liberator.github.io/liberator/doc/decisions.html" target="_blank" rel="noopener">完整的状态码处理逻辑图</a></p>
<p>在 Response header 中设置http状态码<br>同时还应在 Response body 中设置其他信息：</p>
<ul>
<li>错误code</li>
<li>错误信息</li>
<li>header（可选）</li>
<li>debug（可选）</li>
</ul>
<ul>
<li>http status码（可选，只是为了方便）</li>
</ul>
<p>服务器向用户返回的状态码和提示信息，本设计规范会用到的有以下这些（方括号中是该状态码对应的HTTP动词）。</p>
<blockquote>
<ul>
<li>200 OK - [GET]：服务器成功返回用户请求的数据，该操作是幂等的（Idempotent）。</li>
<li>201 CREATED - [POST/PUT/PATCH]：用户新建或修改数据成功。</li>
<li>202 Accepted - [*]：表示一个请求已经进入后台排队（异步任务）</li>
<li>204 NO CONTENT - [DELETE]：用户删除数据成功，没有需要返回的内容，不需要刷新当前视图。<strong>但是要真这么写的话，dingo中一旦用了204就什么都不返回了，所以看到不要奇怪</strong></li>
</ul>
<ul>
<li>304 Not Modified - [GET]：请求的数据没有更新。</li>
</ul>
<ul>
<li>400 INVALID REQUEST - [POST/PUT/PATCH]：用户发出的请求有错误，服务器没有进行新建或修改数据的操作，该操作是幂等的，所有不想明确区分的客户端请求出错都可以返回 400，比如参数错误</li>
<li>401 Unauthorized - [*]：表示用户没有权限（令牌、用户名、密码错误）。</li>
<li>403 Forbidden - [*] 表示用户得到授权（与401错误相对），但是访问是被禁止的，比如低权限账户请求了高权限账户才能请求的接口。</li>
<li>404 NOT FOUND - [*]：用户发出的请求针对的是不存在的记录，服务器没有进行操作，该操作是幂等的。</li>
<li>405 Method Not Allowed - [*]：用户发出的请求方式是不被允许通过的。</li>
<li>408 Request Timeout - [*]：客户端请求超时。我们想 POST 创建一个用户，虽然建立了连接，但是网络不好，服务器在规定时间内没有得到我们的请求信息，这时候服务器可以返回 408 告诉我们超时了。然后我们可以重新发送请求。</li>
<li>409 Conflict - [*]：请求冲突。比如说，服务器要求不同用户不能重名，服务器已经有了一个名叫小伟的用户，这时候我们又想创建一个名叫小伟的用户，服务器可以返回 409，告诉我们冲突了，也可以在 body 中明确告知是什么冲突了。</li>
<li>410 Gone -[GET]：用户请求的资源被永久删除，且不会再得到的。</li>
<li>413 Request Entity Too Large -[POST/PUT/PATCH]：请求体过大。比如说，服务器要求上传文件不能超过 5M，但是我们 POST 了 10M，这时候就返回 413。</li>
</ul>
<ul>
<li>429 too many requests -[*]：请求速度过快、请求次数已达帐号上限。</li>
</ul>
<ul>
<li>500 INTERNAL SERVER ERROR - [*]：服务器发生错误，用户将无法判断发出的请求是否成功。</li>
<li>503 Service Unavailable - [*]：服务暂时不可用。比如说，服务器正好在更新代码重启。</li>
</ul>
</blockquote>
<p>状态码的完全列表参见<a href="https://httpstatuses.com/" target="_blank" rel="noopener">这里</a>。</p>
<blockquote>
<ul>
<li><p>1xx范围的状态码是保留给底层HTTP功能使用的，并且估计在你的职业生涯里面也用不着手动发送这样一个状态码出来。</p>
</li>
<li><p>2xx范围的状态码是保留给成功消息使用的，你尽可能的确保服务器总发送这些状态码给用户。</p>
</li>
<li><p>3xx范围的状态码是保留给重定向用的。大多数的API不会太常使用这类状态码，但是在新的超媒体样式的API中会使用更多一些。</p>
</li>
<li><p>4xx范围的状态码是保留给客户端错误用的。例如，客户端提供了一些错误的数据或请求了不存在的内容。这些请求应该是幂等的，不会改变任何服务器的状态。</p>
</li>
<li><p>5xx范围的状态码是保留给服务器端错误用的。这些错误常常是从底层的函数抛出来的，并且开发人员也通常没法处理。发送这类状态码的目的是确保客户端能得到一些响应。收到5xx响应后，客户端没办法知道服务器端的状态，所以这类状态码是要尽可能的避免。</p>
</li>
</ul>
</blockquote>
<h3 id="关于202"><a href="#关于202" class="headerlink" title="关于202"></a>关于202</h3><p>对耗时的异步任务，服务器端接受客户端传递的参数后，应返回创建成功的任务资源，其中包含了任务的执行状态。客户端可以轮训该任务获得最新的执行进度。</p>
<pre><code>提交任务：
POST /batch-publish-msg
[{&quot;from&quot;:0,&quot;to&quot;:1,&quot;text&quot;:&quot;abc&quot;},{},{}...]

返回：
{&quot;taskId&quot;:3,&quot;createBy&quot;:&quot;Anonymous&quot;,&quot;status&quot;:&quot;running&quot;}

GET /task/3
{&quot;taskId&quot;:3,&quot;createBy&quot;:&quot;Anonymous&quot;,&quot;status&quot;:&quot;success&quot;}
</code></pre><p>如果任务的执行状态包括较多信息，可以把“执行状态”抽象成组合资源，客户端查询该状态资源了解任务的执行情况。</p>
<pre><code>提交任务：
POST /batch-publish-msg
[{&quot;from&quot;:0,&quot;to&quot;:1,&quot;text&quot;:&quot;abc&quot;},{},{}...]

返回：
{&quot;taskId&quot;:3,&quot;createBy&quot;:&quot;Anonymous&quot;}

GET /task/3/status
{&quot;progress&quot;:&quot;50%&quot;,&quot;total&quot;:18,&quot;success&quot;:8,&quot;fail&quot;:1}
</code></pre><h3 id="关于-304"><a href="#关于-304" class="headerlink" title="关于 304"></a>关于 304</h3><p>大部分接口应该在响应头中携带 <code>Last-Modified</code>, <code>ETag</code>, <code>Vary</code>, <code>Date</code> 信息，客户端可以在随后请求这些资源的时候，在请求头中使用 <code>If-Modified-Since</code>, <code>If-None-Match</code> 等请求头来确认资源是否经过修改。</p>
<p>如果资源没有进行过修改，那么就可以响应 <code>304 Not Modified</code> 并且不在响应实体中返回任何内容。例如：</p>
<pre><code>curl -i https://api.github.com/user
HTTP/1.1 200 OK
Cache-Control: private, max-age=60
ETag: &quot;644b5b0155e6404a9cc4bd9d8b1ae730&quot;
Last-Modified: Thu, 05 Jul 2012 15:31:30 GMT
Status: 200 OK
Vary: Accept, Authorization, Cookie
X-RateLimit-Limit: 5000
X-RateLimit-Remaining: 4996
X-RateLimit-Reset: 1372700873

curl -i https://api.github.com/user -H &#39;If-None-Match: &quot;644b5b0155e6404a9cc4bd9d8b1ae730&quot;&#39;
HTTP/1.1 304 Not Modified
Cache-Control: private, max-age=60
ETag: &quot;644b5b0155e6404a9cc4bd9d8b1ae730&quot;
Last-Modified: Thu, 05 Jul 2012 15:31:30 GMT
Status: 304 Not Modified
Vary: Accept, Authorization, Cookie
X-RateLimit-Limit: 5000
X-RateLimit-Remaining: 4996
X-RateLimit-Reset: 1372700873

curl -i https://api.github.com/user -H &quot;If-Modified-Since: Thu, 05 Jul 2012 15:31:30 GMT&quot;
HTTP/1.1 304 Not Modified
Cache-Control: private, max-age=60
Last-Modified: Thu, 05 Jul 2012 15:31:30 GMT
Status: 304 Not Modified
Vary: Accept, Authorization, Cookie
X-RateLimit-Limit: 5000
X-RateLimit-Remaining: 4996
X-RateLimit-Reset: 1372700873
</code></pre><hr>
<h3 id="数据缓存"><a href="#数据缓存" class="headerlink" title="数据缓存"></a>数据缓存</h3><h4 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h4><p><strong>“no-cache”和“no-store”</strong></p>
<p><code>no-cache</code>表示必须先与服务器确认返回的响应是否发生了变化，然后才能使用该响应来满足后续对同一网址的请求。因此，如果存在合适的验证令牌 (ETag)，<code>no-cache</code> 会发起往返通信来验证缓存的响应，但如果资源未发生变化，则可避免下载。</p>
<p>相比之下，<code>no-store</code>则要简单得多。它直接禁止浏览器以及所有中间缓存存储任何版本的返回响应，例如，包含个人隐私数据或银行业务数据的响应。每次用户请求该资产时，都会向服务器发送请求，并下载完整的响应。</p>
<p><strong>“public”与“private”</strong></p>
<p>如果响应被标记为<code>public</code>，则即使它有关联的 HTTP 身份验证，甚至响应状态代码通常无法缓存，也可以缓存响应。大多数情况下，<code>public</code>不是必需的，因为明确的缓存信息（例如<code>max-age</code>）已表示响应是可以缓存的。</p>
<p>相比之下，浏览器可以缓存<code>private</code>响应。不过，这些响应通常只为单个用户缓存，因此不允许任何中间缓存（CDN等）对其进行缓存。例如，用户的浏览器可以缓存包含用户私人信息的 HTML 网页，但 CDN 却不能缓存。</p>
<p><strong>“max-age”</strong></p>
<p>指令指定从请求的时间开始，允许获取的响应被重用的最长时间（单位：秒）。例如，<code>max-age=60</code>表示可在接下来的 60 秒缓存和重用响应。</p>
<h4 id="选择合适的Cache-Control"><a href="#选择合适的Cache-Control" class="headerlink" title="选择合适的Cache-Control"></a><strong>选择合适的Cache-Control</strong></h4><p><img src="http://osv9x79o9.bkt.clouddn.com/17-11-7/30809467.jpg" alt="决策树"></p>
<table>
<thead>
<tr>
<th>Cache-Control指令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>max-age=86400</td>
<td>浏览器以及任何中间缓存均可将响应（如果是“public”响应）缓存长达 1 天（60 秒 x 60 分钟 x 24 小时）。</td>
</tr>
<tr>
<td>private, max-age=600</td>
<td>客户端的浏览器只能将响应缓存最长 10 分钟（60 秒 x 10 分钟）。</td>
</tr>
<tr>
<td>no-store</td>
<td>不允许缓存响应，每次请求都必须完整获取。</td>
</tr>
</tbody>
</table>
<h4 id="废弃和更新缓存响应"><a href="#废弃和更新缓存响应" class="headerlink" title="废弃和更新缓存响应"></a><strong>废弃和更新缓存响应</strong></h4><p><em>如何才能鱼和熊掌兼得：客户端缓存和快速更新？</em>您可以在资源内容发生变化时更改它的网址，强制用户下载新响应。通常情况下，可以通过在文件名中嵌入文件的指纹或版本号来实现 - 例如 <code>style.x234dff.css</code>。</p>
<p><img src="http://osv9x79o9.bkt.clouddn.com/17-11-7/38495502.jpg" alt="一个缓存样例"></p>
<ul>
<li><p>HTML 被标记为<code>no-cache</code>，这意味着浏览器在每次请求时都始终会重新验证文档，并在内容变化时获取最新版本。此外，在 HTML 标记内，您在 CSS 和 JavaScript 资产的网址中嵌入指纹：如果这些文件的内容发生变化，网页的 HTML 也会随之改变，并会下载 HTML 响应的新副本。</p>
</li>
<li><p>允许浏览器和中间缓存（例如 CDN）缓存 CSS，并将 CSS 设置为 1 年后到期。请注意，您可以放心地使用 1 年的“远期过期”，因为您在文件名中嵌入了文件的指纹：CSS 更新时网址也会随之变化。</p>
</li>
<li><p>JavaScript 同样设置为 1 年后到期，但标记为 private，这或许是因为它包含的某些用户私人数据是 CDN 不应缓存的。</p>
</li>
<li><p>图像缓存时不包含版本或唯一指纹，并设置为 1 天后到期。</p>
</li>
</ul>
<hr>
<p>相关资料：</p>
<ul>
<li><a href="http://tools.ietf.org/html/rfc7232" target="_blank" rel="noopener">RFC 7232</a></li>
<li><a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching?hl=zh-cn" target="_blank" rel="noopener">HTTP 缓存 - Google Developers</a></li>
<li><a href="http://tools.ietf.org/html/rfc2616#section-13.2.3" target="_blank" rel="noopener">RFC 2616 中缓存过期时间的算法</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching_FAQ" target="_blank" rel="noopener">MDN 版</a>, <a href="http://blog.csdn.net/woxueliuyun/article/details/41077671" target="_blank" rel="noopener">中文版</a></li>
<li><a href="https://www.imququ.com/post/vary-header-in-http.html" target="_blank" rel="noopener">HTTP 协议中 Vary 的一些研究</a></li>
<li><a href="https://blog.othree.net/log/2012/12/22/cache-control-and-etag/" target="_blank" rel="noopener">Cache Control 與 ETag</a></li>
</ul>
<h2 id="9-预期返回"><a href="#9-预期返回" class="headerlink" title="9. 预期返回"></a>9. 预期返回</h2><p>当使用不同的HTTP动词向服务器请求时，客户端需要在返回结果里面拿到一系列的信息，例如：</p>
<blockquote>
<ul>
<li><p>GET /collection：返回资源对象的列表（数组）</p>
</li>
<li><p>GET /collection/resource：返回单个资源对象</p>
</li>
<li><p>POST /collection：返回新生成的资源对象</p>
</li>
<li><p>PUT /collection/resource：返回完整的资源对象</p>
</li>
<li><p>PATCH /collection/resource：返回完整的资源对象</p>
</li>
<li><p>DELETE /collection/resource：返回一个空文档</p>
</li>
</ul>
</blockquote>
<p>总是在响应码为200或是201时返回所有可用资源, 包含 <code>PUT/PATCH</code> 和 <code>DELETE</code> 请求, 例如:</p>
<pre><code>$ curl -X DELETE \  
  https://service.com/apps/1f9b/domains/0fd4

HTTP/1.1 200 OK
Content-Type: application/json;charset=utf-8
...
{
  &quot;created_at&quot;: &quot;2012-01-01T12:00:00Z&quot;,
  &quot;hostname&quot;: &quot;subdomain.example.com&quot;,
  &quot;id&quot;: &quot;01234567-89ab-cdef-0123-456789abcdef&quot;,
  &quot;updated_at&quot;: &quot;2012-01-01T12:00:00Z&quot;
}
</code></pre><p>当请求状态码为202（已加入异步队列）时，不返回所有可用资源,例如：</p>
<pre><code>$ curl -X DELETE \  
  https://service.com/apps/1f9b/dynos/05bd

HTTP/1.1 202 Accepted
Content-Type: application/json;charset=utf-8
...
{}
</code></pre><hr>
<h2 id="10-Hypermedia-amp-超文本驱动（可以看兴趣实现）"><a href="#10-Hypermedia-amp-超文本驱动（可以看兴趣实现）" class="headerlink" title="10. Hypermedia &amp; 超文本驱动（可以看兴趣实现）"></a>10. Hypermedia &amp; 超文本驱动（可以看兴趣实现）</h2><p>超文本驱动可以看做是Hypermedia的更高级实现。</p>
<h3 id="Hypermedia"><a href="#Hypermedia" class="headerlink" title="Hypermedia"></a>Hypermedia</h3><p>即返回结果中提供链接，连向其他API方法，这样做的好处是：用户不查文档，也知道下一步应该做什么。比如，当用户向api.example.com的根目录发出请求，会得到一个关于API文档的说明，就像<a href="https://api.github.com" target="_blank" rel="noopener">api.github.com</a></p>
<h3 id="超文本驱动"><a href="#超文本驱动" class="headerlink" title="超文本驱动"></a>超文本驱动</h3><p>客户端不再需要将某些接口的 URI 硬编码在代码中，唯一需要存储的只是 API 的 HOST 地址，能够非常有效的降低客户端与服务端之间的耦合，服务端对 URI 的任何改动都不会影响到客户端的稳定。<br>目前有几种方案试图实现这个效果：</p>
<ul>
<li><a href="http://tools.ietf.org/html/draft-kelly-json-hal-07" target="_blank" rel="noopener">JSON HAL</a> ，示例可以参考 <a href="http://stateless.co/hal_specification.html" target="_blank" rel="noopener">JSON HAL 作者自己的介绍</a></li>
<li><a href="https://developer.github.com/v3/#hypermedia" target="_blank" rel="noopener">GitHub API 使用的方案</a> ，应该是一种 JSON HAL 的变体</li>
<li><a href="http://jsonapi.org/" target="_blank" rel="noopener">JSON API</a> ，（这里有 <a href="https://github.com/justjavac" target="_blank" rel="noopener">@迷渡</a> 发起的 <a href="http://jsonapi.org.cn/" target="_blank" rel="noopener">中文版</a> ），另外一种类似 JSON HAL 的方案</li>
<li><a href="http://micro-api.org/" target="_blank" rel="noopener">Micro API</a> ，一种试图与 <a href="http://json-ld.org/" target="_blank" rel="noopener">JSON-LD</a> 兼容的方案</li>
</ul>
<p>目前所知的方案都实现了发现资源的功能，服务端同时需要实现 OPTIONS 方法，并在响应中携带 Allow 头来告知客户端当前拥有的操作权限。</p>
<h2 id="11-数据请求格式"><a href="#11-数据请求格式" class="headerlink" title="11. 数据请求格式"></a>11. 数据请求格式</h2><p>采用json。<br>在header中添加<code>Content-Type=application/json</code>。</p>
<h2 id="12-清晰的文档"><a href="#12-清晰的文档" class="headerlink" title="12. 清晰的文档"></a>12. 清晰的文档</h2><p>api必须拥有清晰的文档。</p>
<h2 id="13-鉴权-amp-无状态"><a href="#13-鉴权-amp-无状态" class="headerlink" title="13. 鉴权 &amp; 无状态"></a>13. 鉴权 &amp; 无状态</h2><p>JWT</p>
<h2 id="14-Enveloping"><a href="#14-Enveloping" class="headerlink" title="14. Enveloping"></a>14. Enveloping</h2><p>有两种情况是应该使用envelope的。</p>
<ul>
<li>如果API使用者确实无法访问返回头</li>
<li>API需要支持交叉域请求（通过jsonp）,<strong>本工作室Api需要跨域时请用CORS</strong>，所以这里忽略</li>
</ul>
<p>jsonp请求在请求的url中包含了一个<code>callback</code>函数参数。如果给出了这个参数，那么API应该返回200，并且把真正的状态码放到返回值里面（包装在信封里），例如：</p>
<pre><code>callback_function({
  status_code: 200,
  next_page: &quot;https://..&quot;,
  response: {
    ... actual JSON response body ... 
  }
})
</code></pre><p>同样为了支持无法访问返回头的API使用者，可以允许<code>envelope=true</code>这样的参数,例如:</p>
<pre><code>GET /api/v1/users/does-not-exist?envelope=true
</code></pre><p>返回码为200，真正的返回码以及其他header信息放到返回的信息中：</p>
<pre><code>{
  &quot;status&quot;: 404,
  &quot;headers&quot;: {
    &quot;Rate-Limit-Limit&quot;: 100,
    &quot;Rate-Limit-Remaining&quot;: 50,
    &quot;Rate-Limit-Used&quot;: 0,
    &quot;Rate-Limit-Reset&quot;: 25
  },
  &quot;response&quot;: {
    &quot;message&quot;: &quot;Not Found&quot;
  }
}
</code></pre><h2 id="15-数据校验"><a href="#15-数据校验" class="headerlink" title="15. 数据校验"></a>15. 数据校验</h2><p>以json为例，当客户端向服务器发出<code>post</code>,<code>put</code>或<code>patch</code>请求时，通常会同时给服务器发送json格式的相关数据，服务器在做数据处理之前，先做数据校验，是最合理和安全的前后端交互。如果客户端发送的数据不正确或不合理，服务器端经过校验后直接向客户端返回400错误及相应的数据错误信息即可。常见的数据校验包括：</p>
<ul>
<li>数据类型校验，如字段类型如果是int，那么给字段赋字符串的值则报错</li>
<li>数据格式校验，如邮箱或密码，其赋值必须满足相应的正则表达式，才是正确的输入数据</li>
<li>数据逻辑校验，如数据包含出生日期和年龄两个字段，如果这两个字段的数据不一致，则数据校验失败</li>
</ul>
<p>以上三种类型的校验，数据逻辑校验最为复杂，通常涉及到多个字段的配合，或者要结合用户和权限做相应的校验。</p>
<h2 id="16-CORS——解决跨域"><a href="#16-CORS——解决跨域" class="headerlink" title="16. CORS——解决跨域"></a>16. CORS——解决跨域</h2><p>在RESTful API开发中，主要是为js服务的，CORS即解决javascript 调用 RESTful API时的跨域问题。具体可以参考<a href="http://www.ruanyifeng.com/blog/2016/04/cors.html" target="_blank" rel="noopener">阮一峰老师的跨域资源共享 CORS 详解</a></p>
<h2 id="17-命名规范"><a href="#17-命名规范" class="headerlink" title="17. 命名规范"></a>17. 命名规范</h2><ol>
<li>不用大写</li>
<li>RESTful API 应具备良好的可读性，当url中某一个片段（segment）由多个单词组成时，建议使用 - 来隔断单词，而不是使用 _，即：</li>
</ol>
<pre><code># Good
/api/featured-post/

# Bad
/api/featured_post/
</code></pre>
        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 changyan -->
<div id="changyan-comment">
    <!--PC和WAP自适应版-->
<div id="SOHUCS" sid="2017/10/27/一次项目的RESRful-API设计记录/"  ></div>
<script type="text/javascript">
(function(){
var appid = 'cyt4hOWBJ';
var conf = '80d25ad8e61164f63c15273437d47890';
var width = window.innerWidth || document.documentElement.clientWidth;
if (width < 960) {
window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>

</div>
<style>
    #changyan-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/11/01/关于Markdown/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/07/29/Git快查笔记/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(https://ooo.0o0.ooo/2017/06/19/5947a4c3a936a.jpg);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="https://ooo.0o0.ooo/2017/06/19/5947a26ed9af5.jpg" alt="Arony's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        sky.arony@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/04/">四月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/03/">三月 2018<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/02/">二月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/01/">一月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/12/">十二月 2017<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/11/">十一月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/10/">十月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/07/">七月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/06/">六月 2017<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签云">
                
                    <i class="material-icons sidebar-material-icons">label outline</i>
                
                标签云
            </a>
        </li>
        
    
        <li>
            <a href="/gallery" title="相册">
                
                    <i class="material-icons sidebar-material-icons">photo</i>
                
                相册
            </a>
        </li>
        
    
        <li>
            <a href="/timeline" title="时间轴">
                
                    <i class="material-icons sidebar-material-icons">timeline</i>
                
                时间轴
            </a>
        </li>
        
    
        <li>
            <a href="/about" title="关于我">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于我
            </a>
        </li>
        
    
        <li>
            <a href="/links" title="友情链接">
                
                    <i class="material-icons sidebar-material-icons">link</i>
                
                友情链接
            </a>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    
        <a href="http://weibo.com/2112550135/profile?rightmod=1&amp;wvr=6&amp;mod=personinfo" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-weibo">
                <span class="visuallyhidden">Weibo</span>
            </button><!--
     --></a>
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/skyArony" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    
        <a href="http://space.bilibili.com/30387945/#!/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-bilibili">
                <span class="visuallyhidden">Bilibili</span>
            </button><!--
     --></a>
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2017&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>Arony's 技术博客
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>





    <!-- Leancloud -->
    <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
    <script>
        AV.initialize('MA3ePB77pgSwRAhI6NTRHcd5-gzGzoHsz', '5tEL3rl9PsLi9hrcoVky3VYp');
    </script>
    <script type="text/ls-javascript" id="leancloud-views-script">
    function showTime(Counter) {
        var query = new AV.Query(Counter);
        $('.leancloud-views_num').each(function() {
            var url = $(this).attr('id').trim();
            query.equalTo('url', url);
            query.find({
                success: function(results) {
                    if (results.length === 0) {
                        var content = '0 ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                        return;
                    }
                    for (var i = 0; i < results.length; i++) {
                        var object = results[i];
                        var content = object.get('time') + ' ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                    }
                },
                error: function(object, error) {
                    console.log('Error: ' + error.code + ' ' + error.message);
                }
            });
        });
    }

    function addCount(Counter) {
      var Counter = AV.Object.extend('Counter');
      url = $('.leancloud-views_num').attr('id').trim();
      title = $('.leancloud-views_num').attr('data-flag-title').trim();
      var query = new AV.Query(Counter);
      query.equalTo('url', url);
      query.find({
          success: function(results) {
            if (results.length > 0) {
                var counter = results[0];
                counter.fetchWhenSave(true);
                counter.increment('time');
                counter.save(null, {
                    success: function(counter) {
                        var content =  counter.get('time') + ' ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                    },
                    error: function(counter, error) {
                        console.log('Failed to save Visitor num, with error message: ' + error.message);
                    }
                });
            } else {
              var newcounter = new Counter();
              newcounter.set('title', title);
              newcounter.set('url', url);
              newcounter.set('time', 1);
              newcounter.save(null, {
                  success: function(newcounter) {
                      console.log('newcounter.get(\'time\')='+newcounter.get('time'));
                      var content = newcounter.get('time') + ' ' + $(document.getElementById(url)).text();
                      $(document.getElementById(url)).text(content);
                  },
                  error: function(newcounter, error) {
                      console.log('Failed to create');
                  }
              });
            }
        },
        error: function(error) {
            console.log('Error:' + error.code + ' ' + error.message);
        }
      });
    }
    $(function() {
        var Counter = AV.Object.extend('Counter');
        if ($('.leancloud-views_num').length === 1) {
            addCount(Counter);
        } else if ($('.post-title-link').length > 1) {
            showTime(Counter);
        }
    });
</script>






   <!-- 畅言公共 js 代码 start -->
<script id="cy_cmt_num" src="https://changyan.sohu.com/upload/plugins/plugins.list.count.js?clientId=cyt4hOWBJ">
</script>
<!-- 畅言公共 js 代码 end -->





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
